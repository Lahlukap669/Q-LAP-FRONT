import{a as C}from"./api-wZ4aHSpU.js";import{_ as D,c as n,a as t,e as f,b as m,w as h,f as _,t as c,d as v,n as b,T as S,o as r,k as j,l as A,F as p,j as y,m as O,h as U}from"./index-DRO6Msb-.js";import{A as L}from"./AppAlert-Dq9MU9kQ.js";const z={name:"AthleteHeader",props:{userFullName:{type:String,default:"Athlete"}},emits:["logout"],data(){return{showUserMenu:!1,showMobileNav:!1}},methods:{toggleUserMenu(){this.showUserMenu=!this.showUserMenu,this.showMobileNav=!1},toggleMobileNav(){this.showMobileNav=!this.showMobileNav,this.showUserMenu=!1,this.showMobileNav?document.body.style.overflow="hidden":document.body.style.overflow=""},closeMobileNav(){this.showMobileNav=!1,document.body.style.overflow=""},handleLogout(){this.showUserMenu=!1,this.showMobileNav=!1,document.body.style.overflow="",this.$emit("logout")},handleResize(){window.innerWidth>=1024&&this.closeMobileNav()}},mounted(){document.addEventListener("click",s=>{!s.target.closest(".relative")&&!s.target.closest("button")&&(this.showUserMenu=!1)}),window.addEventListener("resize",this.handleResize),document.addEventListener("keydown",s=>{s.key==="Escape"&&(this.closeMobileNav(),this.showUserMenu=!1)})},beforeUnmount(){window.removeEventListener("resize",this.handleResize),document.body.style.overflow=""}},T={class:"header-gradient shadow-lg relative"},P={class:"container mx-auto px-4 py-4 flex justify-between items-center"},V={class:"flex items-center space-x-6"},R={class:"hidden lg:flex items-center space-x-6 text-white"},F={class:"hidden lg:block relative"},B={class:"hidden md:block"},H={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50"},K={key:0,class:"lg:hidden absolute top-full left-0 w-full bg-white shadow-lg z-40"},J={class:"container mx-auto px-4 py-4"},Q={class:"space-y-4 mb-6"},W={class:"border-t border-gray-200 pt-4"},X={class:"flex items-center mb-4 px-4"},Z={class:"font-semibold text-gray-800"},q={class:"space-y-2"};function G(s,e,l,d,a,i){const u=_("router-link");return r(),n("header",T,[t("div",P,[e[15]||(e[15]=t("div",null,[t("h1",{class:"text-3xl lg:text-4xl font-bold text-white tracking-wider"},"Q-LAP"),t("p",{class:"text-white/90 text-sm"},"Quick Layered Annual Periodization")],-1)),t("div",V,[t("nav",R,[f(u,{to:"/athlete",class:"flex items-center hover:text-white/80 transition duration-200"},{default:h(()=>e[5]||(e[5]=[t("i",{class:"fas fa-home mr-2"},null,-1),v("Nadzorna plošča ")])),_:1,__:[5]}),f(u,{to:"",class:"flex items-center hover:text-white/80 transition duration-200"},{default:h(()=>e[6]||(e[6]=[t("i",{class:"fas fa-users mr-2"},null,-1),v("Športniki ")])),_:1,__:[6]}),f(u,{to:"",class:"flex items-center hover:text-white/80 transition duration-200"},{default:h(()=>e[7]||(e[7]=[t("i",{class:"fas fa-chart-line mr-2"},null,-1),v("Analitika ")])),_:1,__:[7]}),f(u,{to:"",class:"flex items-center hover:text-white/80 transition duration-200"},{default:h(()=>e[8]||(e[8]=[t("i",{class:"fas fa-flask mr-2"},null,-1),v("Testi ")])),_:1,__:[8]})]),t("div",F,[t("button",{onClick:e[0]||(e[0]=(...x)=>i.toggleUserMenu&&i.toggleUserMenu(...x)),class:"flex items-center text-white hover:text-white/80 transition duration-200"},[e[9]||(e[9]=t("i",{class:"fas fa-user-circle text-xl mr-2"},null,-1)),t("span",B,c(l.userFullName),1),e[10]||(e[10]=t("i",{class:"fas fa-chevron-down ml-2"},null,-1))]),a.showUserMenu?(r(),n("div",H,[f(u,{to:"",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition duration-200"},{default:h(()=>e[11]||(e[11]=[t("i",{class:"fas fa-user mr-2"},null,-1),v("Profil ")])),_:1,__:[11]}),f(u,{to:"",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100 transition duration-200"},{default:h(()=>e[12]||(e[12]=[t("i",{class:"fas fa-cog mr-2"},null,-1),v("Nastavitve ")])),_:1,__:[12]}),e[14]||(e[14]=t("hr",{class:"my-1"},null,-1)),t("button",{onClick:e[1]||(e[1]=(...x)=>i.handleLogout&&i.handleLogout(...x)),class:"block w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition duration-200"},e[13]||(e[13]=[t("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),v("Odjava ")]))])):m("",!0)]),t("button",{onClick:e[2]||(e[2]=(...x)=>i.toggleMobileNav&&i.toggleMobileNav(...x)),class:"lg:hidden flex items-center text-white hover:text-white/80 transition duration-200"},[t("i",{class:b(["fas fa-bars text-xl transition-transform duration-300",{"rotate-90":a.showMobileNav}])},null,2)])])]),f(S,{name:"mobile-nav"},{default:h(()=>[a.showMobileNav?(r(),n("div",K,[t("nav",J,[t("div",Q,[f(u,{to:"/athlete",onClick:i.closeMobileNav,class:"flex items-center text-gray-700 hover:text-blue-600 hover:bg-gray-50 py-3 px-4 rounded-lg transition duration-200"},{default:h(()=>e[16]||(e[16]=[t("i",{class:"fas fa-home mr-4 text-lg"},null,-1),t("span",{class:"text-lg"},"Nadzorna plošča",-1)])),_:1,__:[16]},8,["onClick"]),f(u,{to:"",onClick:i.closeMobileNav,class:"flex items-center text-gray-700 hover:text-blue-600 hover:bg-gray-50 py-3 px-4 rounded-lg transition duration-200"},{default:h(()=>e[17]||(e[17]=[t("i",{class:"fas fa-users mr-4 text-lg"},null,-1),t("span",{class:"text-lg"},"Športniki",-1)])),_:1,__:[17]},8,["onClick"]),f(u,{to:"",onClick:i.closeMobileNav,class:"flex items-center text-gray-700 hover:text-blue-600 hover:bg-gray-50 py-3 px-4 rounded-lg transition duration-200"},{default:h(()=>e[18]||(e[18]=[t("i",{class:"fas fa-chart-line mr-4 text-lg"},null,-1),t("span",{class:"text-lg"},"Analitika",-1)])),_:1,__:[18]},8,["onClick"]),f(u,{to:"",onClick:i.closeMobileNav,class:"flex items-center text-gray-700 hover:text-blue-600 hover:bg-gray-50 py-3 px-4 rounded-lg transition duration-200"},{default:h(()=>e[19]||(e[19]=[t("i",{class:"fas fa-flask mr-4 text-lg"},null,-1),t("span",{class:"text-lg"},"Testi",-1)])),_:1,__:[19]},8,["onClick"])]),t("div",W,[t("div",X,[e[20]||(e[20]=t("i",{class:"fas fa-user-circle text-2xl text-gray-600 mr-3"},null,-1)),t("span",Z,c(l.userFullName),1)]),t("div",q,[f(u,{to:"",onClick:i.closeMobileNav,class:"flex items-center text-gray-700 hover:text-blue-600 hover:bg-gray-50 py-3 px-4 rounded-lg transition duration-200"},{default:h(()=>e[21]||(e[21]=[t("i",{class:"fas fa-user mr-4 text-lg"},null,-1),t("span",{class:"text-lg"},"Profil",-1)])),_:1,__:[21]},8,["onClick"]),f(u,{to:"",onClick:i.closeMobileNav,class:"flex items-center text-gray-700 hover:text-blue-600 hover:bg-gray-50 py-3 px-4 rounded-lg transition duration-200"},{default:h(()=>e[22]||(e[22]=[t("i",{class:"fas fa-cog mr-4 text-lg"},null,-1),t("span",{class:"text-lg"},"Nastavitve",-1)])),_:1,__:[22]},8,["onClick"]),t("button",{onClick:e[3]||(e[3]=(...x)=>i.handleLogout&&i.handleLogout(...x)),class:"flex items-center w-full text-red-600 hover:text-red-700 hover:bg-red-50 py-3 px-4 rounded-lg transition duration-200"},e[23]||(e[23]=[t("i",{class:"fas fa-sign-out-alt mr-4 text-lg"},null,-1),t("span",{class:"text-lg"},"Odjava",-1)]))])])])])):m("",!0)]),_:1}),a.showMobileNav?(r(),n("div",{key:0,onClick:e[4]||(e[4]=(...x)=>i.closeMobileNav&&i.closeMobileNav(...x)),class:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30"})):m("",!0)])}const Y=D(z,[["render",G],["__scopeId","data-v-c3bb278a"]]),$={name:"DashboardView",components:{AthleteHeader:Y,AppAlert:L},data(){return{loading:!0,saving:!1,error:null,dayInfo:null,originalExerciseStatus:{},selectedDate:this.getCurrentDate(),showModal:!1,selectedExercise:{},headerMounted:!1,alert:{show:!1,type:"info",message:""}}},computed:{userFullName(){const s=JSON.parse(localStorage.getItem("user")||"{}");return`${s.first_name} ${s.last_name}`||"Atlet"},formattedExerciseDate(){return this.selectedDate?new Date(this.selectedDate).toLocaleDateString("sl-SI",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Ni datuma"},availableDates(){const s=[],e=new Date;for(let l=-7;l<=7;l++){const d=new Date(e);d.setDate(e.getDate()+l);const a=d.toISOString().split("T")[0],i=d.toLocaleDateString("sl-SI",{weekday:"short",month:"short",day:"numeric"});s.push({value:a,label:i})}return s},totalExercisesCount(){var s;return(s=this.dayInfo)!=null&&s.methods?this.dayInfo.methods.reduce((e,l)=>{var d;return e+(((d=l.exercises)==null?void 0:d.length)||0)},0):0},completedExercisesCount(){var s;return(s=this.dayInfo)!=null&&s.methods?this.dayInfo.methods.reduce((e,l)=>{var d;return e+(((d=l.exercises)==null?void 0:d.filter(a=>a.exercise_finished).length)||0)},0):0},progressPercentage(){return this.totalExercisesCount===0?0:this.completedExercisesCount/this.totalExercisesCount*100},hasUnsavedChanges(){var s;if(!((s=this.dayInfo)!=null&&s.methods))return!1;for(const e of this.dayInfo.methods)for(const l of e.exercises){const d=this.originalExerciseStatus[l.exercise_id];if(d!==void 0&&d!==l.exercise_finished)return!0}return!1}},methods:{getCurrentDate(){return new Date().toISOString().split("T")[0]},showAlert(s,e){this.alert={show:!0,type:s,message:e}},async fetchDayExercises(){var s,e,l;this.headerMounted||(this.loading=!0),this.error=null;try{const d=await C.post("/users/athlete/microcycle-info",{current_date:this.selectedDate});console.log(this.selectedDate),this.dayInfo=d.data,this.storeOriginalExerciseStatus(),this.headerMounted||(this.headerMounted=!0)}catch(d){console.error("Napaka pri pridobivanju vaj:",d),((s=d.response)==null?void 0:s.status)===401?(localStorage.removeItem("access_token"),localStorage.removeItem("user"),this.$router.push("/login")):(this.error=((l=(e=d.response)==null?void 0:e.data)==null?void 0:l.message)||"Napaka pri nalaganju vaj za ta dan.",this.dayInfo=null)}finally{this.loading=!1}},storeOriginalExerciseStatus(){var s;this.originalExerciseStatus={},(s=this.dayInfo)!=null&&s.methods&&this.dayInfo.methods.forEach(e=>{e.exercises.forEach(l=>{this.originalExerciseStatus[l.exercise_id]=l.exercise_finished})})},onDateChange(){this.loading=!0,this.fetchDayExercises()},previousDay(){const s=new Date(this.selectedDate);s.setDate(s.getDate()-1),this.selectedDate=s.toISOString().split("T")[0],this.loading=!0,this.fetchDayExercises()},nextDay(){const s=new Date(this.selectedDate);s.setDate(s.getDate()+1),this.selectedDate=s.toISOString().split("T")[0],this.loading=!0,this.fetchDayExercises()},toggleExerciseCompletion(s){s.exercise_finished=!s.exercise_finished},async saveExerciseChanges(){var s,e;if(!(!this.dayInfo||!this.hasUnsavedChanges)){this.saving=!0;try{const l=[];this.dayInfo.methods.forEach(i=>{i.exercises.forEach(u=>{l.push({exercise_id:u.exercise_id,finished:u.exercise_finished})})});const d={microcycle_id:this.dayInfo.microcycle_id,day_of_week_number:this.dayInfo.day_of_week_number,exercises_status:l},a=await C.post("/users/athlete/save-finished-exercises",d);this.showAlert("success",a.data.message||"Spremembe uspešno shranjene"),this.storeOriginalExerciseStatus(),a.data.failed_exercises&&a.data.failed_exercises.length>0&&(console.warn("Nekatere vaje niso bile posodobljene:",a.data.failed_exercises),this.showAlert("warning","Nekatere vaje niso bile posodobljene"))}catch(l){console.error("Napaka pri shranjevanju sprememb:",l),this.showAlert("error",((e=(s=l.response)==null?void 0:s.data)==null?void 0:e.message)||"Napaka pri shranjevanju sprememb.")}finally{this.saving=!1}}},showExerciseInfo(s){this.selectedExercise=s,this.showModal=!0},closeModal(){this.showModal=!1,this.selectedExercise={}},formatRestTime(s){if(!s)return"/";const e=Math.floor(s/60),l=s%60;return e===0?`${l} s`:l===0?`${e} min`:`${e} min ${l} s`},logout(){localStorage.removeItem("access_token"),localStorage.removeItem("user"),this.$router.push("/login")}},mounted(){if(!localStorage.getItem("access_token")){this.$router.push("/login");return}this.fetchDayExercises(),document.addEventListener("keydown",e=>{e.key==="ArrowLeft"?this.previousDay():e.key==="ArrowRight"?this.nextDay():e.key==="Escape"&&this.closeModal()})},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)}},ee={class:"min-h-screen athlete-dashboard-bg"},te={key:0,class:"flex items-center justify-center min-h-screen"},se={key:1,class:"flex items-center justify-center min-h-screen"},ae={class:"text-center bg-white rounded-xl p-8 mx-4"},ie={class:"text-gray-600 mb-4"},le={key:2,class:"container mx-auto px-4 py-6"},oe={class:"exercise-date-header rounded-xl p-6 mb-6"},ne={class:"flex items-center justify-between"},re={class:"flex items-center space-x-6"},de={class:"flex items-center space-x-3"},ce={class:"text-2xl font-bold text-white"},ue={class:"flex items-center space-x-3"},fe=["value"],he={key:0,class:"flex items-center text-white"},xe={key:0,class:"rest-day-banner rounded-xl p-6 mb-6"},me={key:1,class:"no-exercises-state rounded-xl p-12 mb-6"},ve={key:2,class:"exercises-table rounded-xl overflow-hidden"},ge={class:"exercise-rows"},pe={class:"col-span-1 flex justify-center"},be=["checked","onChange"],ye={class:"col-span-3 flex items-center space-x-2"},_e={class:"difficulty-badge"},we={class:"col-span-1 text-center parameter-value"},ke={class:"col-span-1 text-center parameter-value"},Ee={class:"col-span-1 text-center parameter-value"},Me={class:"col-span-1 text-center parameter-value"},Ne={class:"col-span-1 text-center parameter-value"},Ce={class:"col-span-1 text-center parameter-value"},De={class:"col-span-1 text-center"},Ie={class:"method-group-badge"},Se={class:"col-span-1 flex justify-center"},je=["onClick"],Ae={key:3,class:"progress-summary rounded-xl p-6 mt-6"},Oe={class:"flex items-center justify-between"},Ue={class:"text-gray-600"},Le={key:0,class:"text-orange-600 text-sm mt-1"},ze={class:"flex items-center space-x-4"},Te={class:"progress-circle"},Pe={viewBox:"0 0 36 36",class:"circular-chart"},Ve=["stroke-dasharray"],Re={class:"percentage"},Fe=["disabled"],Be={key:0,class:"fas fa-spinner fa-spin mr-2"},He={key:1,class:"fas fa-save mr-2"},Ke={key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Je={class:"modal-content max-w-2xl w-full max-h-[80vh] overflow-y-auto"},Qe={class:"flex justify-between items-start mb-4"},We={class:"modal-title"},Xe={class:"exercise-details"},Ze={class:"detail-row"},qe={class:"detail-value"},Ge={key:0,class:"detail-row"},Ye=["href"],$e={class:"exercise-description"},et={class:"description-text"};function tt(s,e,l,d,a,i){var w,k,E,M,N;const u=_("AthleteHeader"),x=_("AppAlert");return r(),n("div",ee,[f(u,{"user-full-name":i.userFullName,onLogout:i.logout},null,8,["user-full-name","onLogout"]),a.loading&&!a.headerMounted?(r(),n("div",te,e[8]||(e[8]=[t("div",{class:"text-center"},[t("i",{class:"fas fa-spinner fa-spin text-4xl text-white mb-4"}),t("p",{class:"text-white text-lg"},"Nalaganje dnevnih vaj...")],-1)]))):a.error&&!a.headerMounted?(r(),n("div",se,[t("div",ae,[e[10]||(e[10]=t("i",{class:"fas fa-exclamation-triangle text-4xl text-red-500 mb-4"},null,-1)),e[11]||(e[11]=t("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Napaka pri nalaganju vaj",-1)),t("p",ie,c(a.error),1),t("button",{onClick:e[0]||(e[0]=(...o)=>i.fetchDayExercises&&i.fetchDayExercises(...o)),class:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition duration-200"},e[9]||(e[9]=[t("i",{class:"fas fa-redo mr-2"},null,-1),v("Poskusi ponovno ")]))])])):(r(),n("div",le,[t("div",oe,[t("div",ne,[t("div",re,[t("div",de,[e[12]||(e[12]=t("i",{class:"fas fa-calendar text-2xl text-white"},null,-1)),t("h1",ce,c(i.formattedExerciseDate),1)]),t("div",ue,[t("button",{onClick:e[1]||(e[1]=o=>i.previousDay()),class:"nav-button"},e[13]||(e[13]=[t("i",{class:"fas fa-chevron-left"},null,-1)])),j(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.selectedDate=o),onChange:e[3]||(e[3]=(...o)=>i.onDateChange&&i.onDateChange(...o)),class:"day-select-inline"},[(r(!0),n(p,null,y(i.availableDates,o=>(r(),n("option",{key:o.value,value:o.value},c(o.label),9,fe))),128))],544),[[A,a.selectedDate]]),t("button",{onClick:e[4]||(e[4]=o=>i.nextDay()),class:"nav-button"},e[14]||(e[14]=[t("i",{class:"fas fa-chevron-right"},null,-1)]))])]),a.loading&&a.headerMounted?(r(),n("div",he,e[15]||(e[15]=[t("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),t("span",null,"Nalaganje...",-1)]))):m("",!0)])]),(w=a.dayInfo)!=null&&w.active_rest?(r(),n("div",xe,e[16]||(e[16]=[t("div",{class:"flex items-center"},[t("i",{class:"fas fa-bed text-2xl text-blue-600 mr-4"}),t("div",null,[t("h3",{class:"text-xl font-bold text-blue-800"},"Dan počitka"),t("p",{class:"text-blue-700"},"Danes je predviden aktivni počitek. Priporočamo lahke aktivnosti.")])],-1)]))):m("",!0),(!((k=a.dayInfo)!=null&&k.methods)||a.dayInfo.methods.length===0)&&!((E=a.dayInfo)!=null&&E.active_rest)?(r(),n("div",me,e[17]||(e[17]=[t("div",{class:"text-center"},[t("i",{class:"fas fa-calendar-times text-6xl text-white/50 mb-4"}),t("h3",{class:"text-2xl font-bold text-white mb-2"},"Ni vaj na ta dan"),t("p",{class:"text-white/80"},"Za izbrani dan ni predvidena nobena vaja.")],-1)]))):m("",!0),(M=a.dayInfo)!=null&&M.methods&&a.dayInfo.methods.length>0?(r(),n("div",ve,[e[19]||(e[19]=O('<div class="table-header grid grid-cols-12 gap-4 p-4" data-v-5be7685f><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>KONČANO</div><div class="col-span-3 text-center font-semibold text-white" data-v-5be7685f>VAJA</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>SERIJE</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>PONOVITVE</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>OBREMENITEV %</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>VO2 MAX</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>HR %</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>POČITEK</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>SKUPINA</div><div class="col-span-1 text-center font-semibold text-white" data-v-5be7685f>OPIS</div></div>',1)),t("div",ge,[(r(!0),n(p,null,y(a.dayInfo.methods,o=>(r(),n(p,{key:o.method_id},[(r(!0),n(p,null,y(o.exercises,g=>(r(),n("div",{key:g.exercise_id,class:b(["exercise-row grid grid-cols-12 gap-4 p-4 items-center hover:bg-white/10 transition duration-200",{"completed-exercise":g.exercise_finished}])},[t("div",pe,[t("input",{type:"checkbox",checked:g.exercise_finished,onChange:I=>i.toggleExerciseCompletion(g),class:"exercise-checkbox"},null,40,be)]),t("div",ye,[t("span",{class:b(["exercise-name",{"completed-text":g.exercise_finished}])},c(g.exercise_name),3),t("div",_e,c(g.difficulty)+"/10 ",1)]),t("div",we,c(o.method_parameters.sets||"/"),1),t("div",ke,c(o.method_parameters.repetitions||"/"),1),t("div",Ee,c(o.method_parameters.burden_percentage_of_mvc?o.method_parameters.burden_percentage_of_mvc+" %":"/"),1),t("div",Me,c(o.method_parameters.vo2_max?o.method_parameters.vo2_max+" %":"/"),1),t("div",Ne,c(o.method_parameters.hr_percentage?o.method_parameters.hr_percentage+" %":"/"),1),t("div",Ce,c(i.formatRestTime(o.method_parameters.rest_seconds)),1),t("div",De,[t("span",Ie,c(o.method_group),1)]),t("div",Se,[t("button",{onClick:I=>i.showExerciseInfo(g),class:"info-button"},e[18]||(e[18]=[t("i",{class:"fas fa-info-circle"},null,-1)]),8,je)])],2))),128))],64))),128))])])):m("",!0),(N=a.dayInfo)!=null&&N.methods&&a.dayInfo.methods.length>0?(r(),n("div",Ae,[t("div",Oe,[t("div",null,[e[21]||(e[21]=t("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Napredek za danes",-1)),t("p",Ue,"Končano "+c(i.completedExercisesCount)+" od "+c(i.totalExercisesCount)+" vaj",1),i.hasUnsavedChanges?(r(),n("p",Le,e[20]||(e[20]=[t("i",{class:"fas fa-exclamation-triangle mr-1"},null,-1),v(" Imate neshranjene spremembe ")]))):m("",!0)]),t("div",ze,[t("div",Te,[t("div",{class:"circle-progress",style:U({"stroke-dasharray":`${i.progressPercentage}, 100`})},[(r(),n("svg",Pe,[e[22]||(e[22]=t("path",{class:"circle-bg",d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`},null,-1)),t("path",{class:"circle","stroke-dasharray":`${i.progressPercentage}, 100`,d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`},null,8,Ve)])),t("div",Re,c(Math.round(i.progressPercentage))+"%",1)],4)]),t("button",{onClick:e[5]||(e[5]=(...o)=>i.saveExerciseChanges&&i.saveExerciseChanges(...o)),disabled:!i.hasUnsavedChanges||a.saving,class:b(["save-button",{disabled:!i.hasUnsavedChanges||a.saving}])},[a.saving?(r(),n("i",Be)):(r(),n("i",He)),v(" "+c(a.saving?"Shranjujem...":"Shrani spremembe"),1)],10,Fe)])])])):m("",!0)])),a.showModal?(r(),n("div",Ke,[t("div",Je,[t("div",Qe,[t("h1",We,c(a.selectedExercise.exercise_name),1),t("button",{onClick:e[6]||(e[6]=(...o)=>i.closeModal&&i.closeModal(...o)),class:"modal-close"},e[23]||(e[23]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",Xe,[t("div",Ze,[e[24]||(e[24]=t("span",{class:"detail-label"},"Težavnost:",-1)),t("span",qe,c(a.selectedExercise.difficulty)+"/10",1)]),a.selectedExercise.video_url&&a.selectedExercise.video_url!=="/"?(r(),n("div",Ge,[e[25]||(e[25]=t("span",{class:"detail-label"},"Video:",-1)),t("a",{href:a.selectedExercise.video_url,target:"_blank",class:"detail-link"},"Oglej si video",8,Ye)])):m("",!0)]),t("div",$e,[e[26]||(e[26]=t("h3",{class:"description-title"},"Opis",-1)),t("p",et,c(a.selectedExercise.description),1)])])])):m("",!0),f(x,{visible:a.alert.show,type:a.alert.type,message:a.alert.message,onClose:e[7]||(e[7]=o=>a.alert.show=!1)},null,8,["visible","type","message"])])}const lt=D($,[["render",tt],["__scopeId","data-v-5be7685f"]]);export{lt as default};
